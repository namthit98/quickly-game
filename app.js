let maxSize,maxTop,maxLeft,timeAnimation,score,level,heart,gameStart,currentLevel,time=0,minSize=100,minTop=0,minLeft=0,scoreDOM=document.querySelector(".score"),hearts=document.querySelectorAll(".heart");btnPlay=document.querySelector(".btn-play"),bg=document.querySelector(".bg");const randomNumber=function(a){return"size"===a?Math.floor(Math.random()*(maxSize-minSize+1))+minSize:"top"===a?Math.floor(Math.random()*(maxTop-minTop+1))+minTop:"left"===a?Math.floor(Math.random()*(maxLeft-minLeft+1))+minLeft:void 0},increaseScore=function(){score++},showScore=function(){scoreDOM.textContent=score},checkScore=function(){1e3>score?1!==level&&(level=1,createLevel(level)):2e3>score?2!==level&&(level=2,createLevel(level)):4e3>score?3!==level&&(level=3,createLevel(level)):1e4>score?4!==level&&(level=4,createLevel(level)):15000>score&&5!==level&&(level=5,createLevel(level))},checkHeart=function(){hearts[heart]&&(0===heart?(hearts[heart].style.fill="#000",endGame()):hearts[heart].style.fill="#000")},newGame=function(){score=0,level=0,heart=5,hearts.forEach(function(a){a.style.fill="#DB261D"}),gameStart=setInterval(function(){increaseScore(),showScore(),checkScore(),checkHeart()},1)},endGame=function(){clearInterval(gameStart),clearInterval(currentLevel),btnPlay.style.opacity="1",btnPlay.style.visibility="visible",btnPlay.textContent="Play again",bg.style.opacity="1",bg.style.visibility="visible"},randomColor=function(){const a=Math.floor(Math.random()*256)+0,b=Math.floor(Math.random()*256)+0,c=Math.floor(Math.random()*256)+0;return`rgb(${a}, ${b}, ${c})`},createCircle=function(){const a=document.createElement("div");a.className="circle",a.style.backgroundColor=randomColor(),a.style.top=`${randomNumber("top")}%`,a.style.left=`${randomNumber("left")}%`,a.style.width=a.style.height=`${randomNumber("size")}px`,a.style.animation=`invisible ${timeAnimation}s both ease-out`,a.addEventListener("click",function(){this.remove()}),a.addEventListener("webkitanimationend",function(){heart--,this.remove()}),a.addEventListener("animationend",function(){heart--,this.remove()}),document.querySelector(".game").appendChild(a)},createLevel=function(a){1===a?(time=1500,timeAnimation=4,maxSize=200,minSize=100,maxTop=75,maxLeft=80):2===a?(time=1e3,timeAnimation=3,maxSize=200,minSize=100,maxTop=70,maxLeft=80):3===a?(time=900,timeAnimation=2,maxSize=150,minSize=100,maxTop=70,maxLeft=80):4===a?(time=500,timeAnimation=3,maxSize=130,minSize=100,maxTop=75,maxLeft=85):5==a&&(time=200,timeAnimation=4,maxSize=150,minSize=100,maxTop=75,maxLeft=85),clearInterval(currentLevel),currentLevel=setInterval(function(){createCircle()},time)};btnPlay.addEventListener("click",function(){btnPlay.style.opacity="0",btnPlay.style.visibility="hidden",btnPlay.textContent="Start",bg.style.opacity="0",bg.style.visibility="hidden",newGame()});